# PacketPony Test Configuration
# Simple config for testing without external dependencies

server:
  name: "packetpony-test"

logging:
  syslog:
    enabled: false
    network: "udp"
    address: "localhost:514"
    tag: "packetpony"
    priority: "info"

  jsonlog:
    enabled: true
    path: "/tmp/packetpony-test.json"

metrics:
  prometheus:
    enabled: true
    listen_address: ":9091"
    path: "/metrics"

listeners:
  - name: "test-tcp"
    protocol: "tcp"
    listen_address: "127.0.0.1:18080"
    target_address: "127.0.0.1:8080"

    allowlist:
      - "127.0.0.1"

    rate_limits:
      max_connections_per_ip: 10
      connections_window: "1m"
      max_bandwidth_per_ip: "1MB"
      bandwidth_window: "1m"
      max_total_connections: 20

    tcp:
      read_timeout: "30s"
      write_timeout: "30s"
      idle_timeout: "5m"
